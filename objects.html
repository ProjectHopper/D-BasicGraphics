Data Objects

Vectors

Vectors are the simplest type of object in R. There are 3 main types of vectors:
•	 Numeric vectors
•	 Character vectors
•	 Logical vectors
To set up a numeric vector x consisting of 7 numbers; {10, 5, 3, 6, 21,11,41}, we use the c() command to “concatenate” them –i.e create a vector of individual values.

To print the contents of x, simply type “x”

> x = c(10, 5, 3, 6, 21,11,41)
> x
[1] 10  5  3  6 21 11 41

The [1] in front of the result is the index of the first element in the vector x.
(The single value variables from earlier on are simply vectors containing one element). 


To access a particular element of a vector, and the position of the element enclosed in square brackets.

> x[1]
[1] 10
> x[7]
[1] 41

We can also create other vectors from existing ones.

> y <- c(x, 0, x)

This creates a vector y with 15 entries (two copies of x with a 0 in the middle)

In R Computations are performed element-wise, e.g. 

> x+6
[1] 16 11  9 12 27 17 47

Short vectors are "recycled" to match long ones. A warning message will indicate that the vectors are not of equal length.

When a vector runs out of values it will simply start from the first one again. We will also see this when setting up colour schemes for graphics.

> y
 [1] 10  5  3  6 21 11 41  0 10  5  3  6 21 11 41 
>
> x+y
 [1] 20 10  6 12 42 22 82 10 15  8  9 27 32 52 51

Warning message:
In x + y : longer object length is not a multiple of shorter object length


 
Some functions take vectors of values and produce results of the same length:
sin, cos, tan, asin, acos, atan, sqrt, log, exp, ......


> sqrt(x)
[1] 3.162278 2.236068 1.732051 2.449490 4.582576 3.316625 
[7] 6.403124


There are functions that provide important summary statistics about a vector. The most commonly used are sum, length, mean, max, min, prod and range


> sum(x)
[1] 97
> length(x)
[1] 7
> mean(x)
[1] 13.85714
>
> sum(x)/length(x)
[1] 13.85714
>
> prod(x)
[1] 8523900
>
> range(x)
[1]  3 41
Some other interesting functions that may prove useful in some statistical analyses include :cumsum, sort, range, pmax, pmin.







Generating Sequences 

R has a number of ways to generate sequences of numbers. These include the simplest approach, using the colon ":", e.g.


> 1:10
[1] 1 2 3 4 5 6 7 8 9 10

This operator has the highest priority within an expression, e.g. 2*1:10 is equivalent to 2*(1:10).

The seq()function can also be used to generate sequences in R. (Use “?seq” to find out more about this function).

All of the following commands are equivalent to 1:10. (The characteristics of each line shall be discussed shortly)

> seq(1,10)
> seq(from=1, to=10)
> seq(to=10, from=1)


With the seq()function, we can also specify a step size (using by=value) or a length (using length=value) for the sequence (i.e number of elements).


> s1 <- seq(1,10, by=0.5)
> s1
[1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5 6.0
[12] 6.5 7.0 7.5 8.0 8.5 9.0 9.5 10.0
>
> s2 <- seq(1,10, length=5)
> s2
[1] 1.00 3.25 5.50 7.75 10.00


The rep() function replicates objects in various ways.

> s3 = rep(x, 2)
>
> s3
 [1] 10  5  3  6 21 11 41 10  5  3  6 21 11 41
>
> s4 <- rep(c(1,4),c(10,15))
> s4
[1] 1 1 1 1 1 1 1 1 1 1 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4


 
The sort() and rev() functions sort (in ascending order), and reverse the order of a function respectively. 

> x = c(10, 5, 3, 6, 21,11,41)
> sort(x)
[1]  3  5  6 10 11 21 41
> rev(x)
[1] 41 11 21  6  3  5 10
> x2=sort(x)
> x2
[1]  3  5  6 10 11 21 41

Suppose we want to sort the function in descending order?
Can use these commands in conjunction i.e. rev(sort(x)).

Any other approaches? (hint:  use help command).

A function that sometimes comes in very useful is the order() function.
For a vector, this will return the position of the minimum value, the position of the next smallest value and so on.


> x = c(10, 5, 3, 6, 21,11,41)
> # lowest value is 3 – in third position
> # next lowest value is 5 – in second position
> order(x)
[1] 3 2 4 1 6 5 7


 
Character Vectors

To set up a character/string vector z -consisting of 4 place names use quotation marks.

> z <- c("Canberra", "Sydney", "Newcastle", "Darwin")

> z <- c(`Canberra', `Sydney', `Newcastle', `Darwin')

> c(z, "Mary", "John")

[1] "Canberra" "Sydney" "Newcastle" "Darwin" "Mary" "John"



There are a lot of in-built functions in R to manipulate character vectors.

Logical Vectors
A logical vector is a vector whose elements are TRUE, FALSE or NA.
These can be generated by logical conditions, e.g.

> x
[1] 10  5  3  6 21 11 41
>
> temp <- x > 13
>
> temp
[1] FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE


This command takes each element of the vector x and compares it to 13.
It then returns a vector the same length as x, with a value TRUE when the condition is met and FALSE when it is not.

The logical operators are >, >=, <, <=, == for exact equality and != for inequality.



The mode function returns the mode of any object in R, and the class function returns the class. (For basic data – very similar). 
When working with data, the most commonly encountered modes of individual objects are numeric, character, and logical.
However, since data in R usually revolves around a collection of data (for example, a matrix or dataset), other modes will often be encountered. These commands would be very useful in such circumstances.
•	The mode() function: displays the storage mode of an R object
•	The class() function: display the internal structure of an R object
•	The str() function:  display the internal structure of an R object

>  x = c(10, 5, 3, 6, 21,11,41)
> mode(x)
[1] "numeric"
> class(x)
[1] "numeric"
> str(x)
 num [1:7] 10 5 3 6 21 11 41




 
Missing Values
In some cases the entire contents of a vector may not be known, i.e. There may be missing data in the data set.

A place can be reserved for this by assigning it the special value NA (which stands for “Not Available”.

We can check for NA values in a vector x using the following command.

> is.na(x)
[1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE


This returns a logical vector the same length as x with a value TRUE if that particular element is NA.

Try this out:

> w <- c(1:10, rep(NA,4), 22)
> is.na(w)

 
Indexing Vectors

We have already seen how to access single elements of a vector.

Subsets of a vector may also be selected using a similar approach, using the “:” operator, i.e specify a sequence of elements.


> ex1 <- x[1:3]
> ex1
[1] 10  5  3

This selects the first 3 elements of the vector x and stores them in the new vector ex1.

What we are really doing is simply specifying a set of values. The previous piece of code can be written as:

> x[c(1,2,3)]
[1] 10  5  3

We can use this approach for specifying non-sequential elements.

Using the “-“ sign, we can “omit” specified element from display. However they remain in the data set. We can exclude those elements permanently by re-assignment.
 
> x[-(1:4)]
[1] 21 11 41
> 
> ex2 <- x[-(1:4)]
> ex2
[1] 21 11 41
>
> ex3 <- x[-c(1,4)]
> ex3
[1]  5  3 21 11 41
>





Modifying Vectors

To alter the contents of a vector, similar approaches can be used.

 
> x
[1] 10  5  3  6 21 11 41
> x[5]=5
> x
[1] 10  5  3  6  5 11 41




 


<!-- ######################################################################################################### -->
<h3> Data Objects</h3>
 		As mentioned previously, R saves data as \textbf{objects}. Examples of data objects are
 		\begin{itemize}
 			\item Vectors
 			\item Lists
 			\item Dataframes
 			\item Matrices
 		\end{itemize}
The simple objects we have created previously are simply single element vectors.
<br>
<h4>1.16 Listing all items in a workspace</h4>

To list all items in an R environment, we use the <b><tt>ls()</tt></b> function. This provides a list of all data objects accessible. Another useful command is <b><tt>objects()</tt></b>.
 		\begin{figure}
 			\centering
 			\includegraphics[width=1.2\linewidth]{images/ObjectsList}
 			%\caption{}
 			%\label{fig:ObjectsList}
 		\end{figure}
<p>

<!-- ######################################################################################################### -->
\subsection*{Listing all items in a workspace}
To list all items in an <b><tt>R</tt><b> environment, we use the <b><tt>ls()</tt></b> function. This provides a list of all data objects  accessible.
<pre>
<code>
> ls()
 [1] "a"          "A"          "authors"    "b"          "books"     
 [6] "C"          "D"          "ex1"        "Gerb"       "Lst"       
[11] "m"          "m1"         "op"         "presidents" "r"         
[16] "showSmooth" "sm"         "sm.3RS"     "sm2"        "sm3"       
[21] "Trig"       "Vec1"       "x"          "X"          "x.at"      
[26] "x1"         "x2"         "x3R"        "y"          "Y"         
[31] "y.at"      
</code>
</pre>
<!-- ######################################################################################################### --> 
<h4>Removing items</h4>
Sometimes it is desirable to save a subset of your workspace instead of the entire workspace. One option is to use the <b><tt>rm()</tt></b> function to remove unwanted objects right before exiting your <b><tt>R} session; another possibility is to use the save function. 
<p>
The save function accepts multiple arguments to specify the objects you wish to save, or, alternatively, a character vector with the names of the objects can be passed to save through the <b><tt>list=} argument. 
<p>
Once the objects to be saved are specified, the only other required option is the <b><tt>file=option}, specifying the destination of the saved R object. Although there is no requirement to do so, it is common to use a suffix of <b><tt>.rda} or <b><tt>.RData} for saved <b><tt>R} workspace files.
<p>
For example, to save the <b><tt>R} objects x, y, and z to a file called <b><tt>myData.rda} ,the following statements could be used:
<p>
<code>
> save(x,y,z,fil= ‘mydata.rda’)
</code>
 		\frametitle{1.17 Removing items}
 		\begin{itemize}
 			\item Sometimes it is desirable to save a subset of your workspace instead of the entire workspace.
 			\item One option is to use the <b><tt>rm()</tt></b> function to remove unwanted objects right before exiting your R
 			session; another possibility is to use the <b><tt>save()</tt></b> function.
 		\end{itemize}

 	

<!-- ######################################################################################################### -->
